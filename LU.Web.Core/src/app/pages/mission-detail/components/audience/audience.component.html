<div>
<div class="row">
        <div class="col-xs-12">
            <p>
                <span data-i18n="missionwizard.audience.onlyselected">
                    ONLY the selected audience will have visibility to this mission.
                </span>
            </p>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-6">
            <label for="MissionsAudienceGroupSearch" class="sub-text" >Select Groups</label><i class="fa fa-asterisk"></i>
            <input type="text"
            [disabled]="isChosenItemsLoading || isGroupListLoading"
            id="MissionsAudienceGroupSearch"
            name="MissionsAudienceGroupSearch"
            [(ngModel)]="groupQuery"
            class="step-inputs form-control" placeholder="Search Groups" (ngModelChange)="searchGroups(groupQuery)"/>
        </div>
        <div class="col-xs-6">
            <label for="MissionsAudienceUserSearch" class="sub-text" >Select Users</label><i class="fa fa-asterisk"></i>
            <input type="text" id="MissionsAudienceUserSearch" class="step-inputs form-control" placeholder="Search Users" />
        </div>
    </div>
    <div class="row">
        <div class="col-xs-6">
            <div id="MissionsAudienceGroupChosen" class="selectedHolder">
                <i *ngIf="isChosenItemsLoading" class="fa fa-spinner fa-pulse fa-fw" style="display: block;margin: auto auto;"></i>
                <div *ngFor="let chosenGroup of model.audienceGroups" (click)="removeGroup(chosenGroup)" class="MissionAudienceSelectedGroupBox">{{chosenGroup.groupName}}<span class="glyphicon glyphicon-remove groupRemove"></span></div>
            </div>
            <div id="missionsAudienceGroupAvailable" style="height:150px; border:1px solid #ccc; border-top:none; padding:8px 5px; background-color: white; overflow-x:scroll; text-align:left;">
                <div class="text-center" style="width: 100%;height:100%;align-items: center;top: 0;" *ngIf="isGroupListLoading">
                    <i class="fa fa-spinner fa-pulse fa-fw" style="display: block;margin: auto auto;"></i>
                </div>
                <div *ngFor="let group of groupsFilteredModel">
                    <label><input type="checkbox"
                    [disabled]="isChosenItemsLoading"
                    (click)="addGroup(group)"
                    [checked]="isGroupSelected(group)"/> {{group.groupName}}</label>
                </div>
            </div>
        </div>
        <div class="col-xs-6">
            <div id="MissionsAudienceUserChosen" class="selectedHolder">
                <i *ngIf="isChosenItemsLoading" class="fa fa-spinner fa-pulse fa-fw" style="display: block;margin: auto auto;"></i>
            </div>
            <div id="missionsAudienceUserAvailable" style="height:150px; border:1px solid #ccc; border-top:none; padding:8px 5px; background-color: white; overflow-x:scroll; text-align:left;">
                <div class="text-center" style="width:100%; height:100%; opacity: 0.5; margin:auto" *ngIf="isUserListLoading">
                <i *ngIf="isUserListLoading" class="fa fa-spinner fa-pulse fa-fw" style="display: block;margin: auto auto;"></i>
                </div>
            </div>
        </div>
    </div>

  <div class="row">
      <div class="col-xs-6">
          <button type="button" class="btn button-next"
          (click)="onPrevious()">Previous <i *ngIf="busyState.detailIsBusy" class="fa fa-spinner fa-pulse fa-fw"></i></button>
      </div>
      <div class="col-xs-6">
          <button type="button" class="btn button-next pull-right"
          (click)="onContinue()">Continue <i *ngIf="busyState.detailIsBusy" class="fa fa-spinner fa-pulse fa-fw"></i></button>
      </div>
  </div>
</div>